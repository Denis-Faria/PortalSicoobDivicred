@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="@Url.Content("https://code.jquery.com/jquery-2.1.1.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Assets/js/iziToast.min.js")"></script>
    <link href="@Url.Content("https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.0/css/bulma.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Assets/css/font-awesome.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Assets/css/balloon.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Assets/css/iziToast.min.css")" rel="stylesheet" />

    <meta name="viewport" content="width=device-width" />

    <title>Principal</title>


    <script>
        function Curriculo() {
            $("#Conteudo").empty();
            $.ajax(
                {
                    type: 'GET',
                    dataType: 'html',
                    url: '/Principal/Curriculo',
                    cache: true,
                    async: true,
                    data: { "Ordenacao": "" },
                    success: function (data) {
                        var tamanho = $(window).height();
                        $("body").css('height', tamanho);
                        $("#Conteudo").append(data);
                        windowHeight = $(document).height();
                        $('#CorpoPrincipal').css('height', windowHeight);
                        $('#CorpoPrincipal').css('background', '#e6e6e6');

                    }
                });

        }

        function Dash() {
            $("#Conteudo").empty();
            $.ajax(
                {
                    type: 'GET',
                    dataType: 'html',
                    cache: true,
                    async: true,
                    success: function (data) {
                        $.get('/Principal/Dashboard',
                            function (data) {
                                var tamanho = $(window).height();
                                $("body").css('height', tamanho);
                                $("#Conteudo").append(data);
                                windowHeight = $(document).height();
                                $('#CorpoPrincipal').css('height', windowHeight);
                                $('#CorpoPrincipal').css('background', '#e6e6e6');
                            });
                    }
                });

        }
        function PerfilColaborador() {
            $("#Conteudo").empty();
            $.ajax(
                {
                    type: 'GET',
                    dataType: 'html',
                    cache: true,
                    async: true,
                    success: function (data) {
                        $.get('/PainelColaborador/Perfil',
                            function (data) {
                                $("#Conteudo").append(data);
                                windowHeight = $(document).height();
                                $('#CorpoPrincipal').css('height', windowHeight);
                                $('#CorpoPrincipal').css('background', '#e6e6e6');
                            });
                    }
                });

        }

        $(document).ready(function () {
            window.history.pushState("state", "title", "/Principal/Principal");
            var windowHeight = $(document).height();
            $('#Lateral').css('position', "absolute");
            $('#CorpoPrincipal').css('height', windowHeight);
            $('#CorpoPrincipal').css('background', '#e6e6e6');
            animating = true;
            $('#Lateral').animate({
                left: -100,
                opacity: 0
            },
                500,
                function () {
                    animating = false;
                });
        });

        var mouse_position;
        var animating = false;
        //GET MOUSE POSITION
        $(document).mousemove(function (e) {
            //$("body").on("mousemove", function(mouse_pointer) {
            //console.log(mouse_pointer.pageX - $(window).scrollLeft());
            //mouse_position = mouse_pointer.pageX - $(window).scrollLeft();
            if (animating) {
                return;
            }
            mouse_position = e.clientX;
            if (mouse_position <= 100) {
                var windowHeight = $(document).height();
                $('#Lateral').css('height', $(window).height());
                $('#Lateral').css('position', "relative");
                $('#CorpoPrincipal').css('height', windowHeight);
                $('#CorpoPrincipal').css('background', '#e6e6e6');
                animating = true;
                $('#Lateral').animate({
                    left: 0,
                    opacity: 1
                },
                    200,
                    function () {
                        animating = false;
                    });
            } else if (mouse_position > 100) {
                var windowHeight = $(document).height();
                $('#Lateral').css('position', "absolute");
                $('#CorpoPrincipal').css('height', windowHeight);
                $('#CorpoPrincipal').css('background', '#e6e6e6');
                animating = true;
                $('#Lateral').animate({
                    left: -100,
                    opacity: 0
                },
                    500,
                    function () {
                        animating = false;
                    });
            }
        });
    </script>

</head>
<body id="CorpoPrincipal">
    <style>
        html {
            height: 100vh;
        }

        body {
            background: #e6e6e6;
        }

        #Lateral {
            height: 100vh;
            width: 280px;
            position: relative;
            left: -100px;
            top: 2;
        }

    </style>
    <nav class="nav" style="background: rgb(42, 63, 84)">
        <div class="nav-left">
            <a class="nav-item">
                <img src="/Images/LogoBranca.png" alt="Bulma logo">
            </a>
        </div>

        <div class="nav-center">

            <a class="nav-item">
                <div class="dropdown is-hoverable">
                    <div class="dropdown-trigger">
                        <button class="button is-link" aria-haspopup="true" aria-controls="dropdown-menu4" style="background: rgb(42, 63, 84);">
                            <img src="/Images/user.png" data-toggle="tooltip" title="Editar perfil" class="avatar-image tooltip"/> <span class="name" style="color: white"> @TempData["NomeLateral"]</span>
                            <span class="icon is-small">
                                <i class="fa fa-angle-down" aria-hidden="true" style="color: white"></i>
                            </span>
                        </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu4" role="menu">
                        <div class="dropdown-content">
                            <a href="javascript:PerfilColaborador()"class="dropdown-item">
                                <span class="icon is-small"><i class="fa fa-user"></i> </span>Editar Perfil
                            </a>
                            <hr class="dropdown-divider">
                            <a class="dropdown-item" href="@Url.Action("Logoff", "Login")">
                                <span class="icon is-small"><i class="fa fa-sign-out"></i> </span>Sair
                            </a>

                        </div>
                    </div>
                </div>

            </a>
        </div>
        <span class="nav-toggle">
            <span></span>
            <span></span>
            <span></span>
        </span>

    </nav>
    <div class="columns">
        <aside id="Lateral" class=" column is-2 aside hero is-fullheight is-hidden-mobile " style="background: rgb(42, 63, 84)">
            <ul class="menu-list is-centered" style="padding: 10px; text-align: justify;">
                <p class="item"></p>
                <p class="menu-label" style="color: white">
                    Geral
                </p>
                <a href="javascript:Dash()" class="item" style="color: #38d5c5;">
                    <span class="icon">
                        <i class="fa fa-tachometer"></i>
                    </span><span class="name"> Dashboard</span>
                </a>
                <a href="#" class="item" style="color: #38d5c5;">
                    <span class="icon">
                        <i class="fa fa-tasks" aria-hidden="true"></i>
                    </span><span class="name"> WebDesk</span>
                </a>
                <a href="#" class="item" style="color: #38d5c5;">
                    <span class="icon">
                        <i class="fa fa-folder-o" aria-hidden="true"></i>
                    </span><span class="name"> PGD</span>
                </a>


                <p class="menu-label" style="color: white">
                    Específicos
                </p>
                <a href="javascript:Curriculo();void(0);" class="item" style="color: #38d5c5;">
                    <span class="icon">
                        <i class="fa fa-book"></i>
                    </span><span class="name"> Currículo</span>
                </a>
                <a href="javascript:PerfilColaborador();void(0);" class="item" style="color: #38d5c5;">
                    <span class="icon">
                        <i class="fa fa-user-circle-o"></i>
                    </span><span class="name"> Portal do Colaborador</span>
                </a>
            </ul>
        </aside>
        <div class="container">
            <div class="column is-12" id="Conteudo" name="Conteudo">

                @if (TempData["Mensagem"] != null)
            {
                    @Html.Label("")


                    <script>

                    iziToast.success({
                        title: 'Sucesso',
                        position: "center",
                        message: '@TempData["Mensagem"]',
                    });

                    </script>
                }
                @Html.Action("" + TempData["Opcao"])
            </div>
        </div>
    </div>

    </>
</body>
</html>