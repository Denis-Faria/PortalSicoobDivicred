
@model PortalSicoobDivicred.Models.Parametros


<script src='@Url.Content("~/Scripts/jquery.validate.js")' type="text/javascript" />
<script src='@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")' type="text/javascript"></script>
<script src='@Url.Content("~/Assets/js/jquery.multi-select.js")' type="text/javascript"></script>
<link href="@Url.Content("~/Assets/css/multi-select.css")" rel="stylesheet" />

<script>

    $('#my-select').multiSelect();

    $(document).ready(function () {

        $('#CpfFuncionario').mask('000.000.000-00');
        $('#DataNascimentoFuncionario').mask('00/00/0000');
        $('#EmissaoCtps').mask('00/00/0000');
        $('#DataEmissaoRg').mask('00/00/0000');
        $('#PisFuncionario').mask('000.00000.00-0');
        $('#CepFuncionario').mask('99999-999');



    });

    function Buscar() {


        $("#ListaPermissoes").empty();
        $.ajax(
            {

                type: 'Post',
                url: '/Parametros/BuscarFuncionarioPermissoes',
                dataType: 'html',
                cache: true,
                async: true,
                data: { "NomeFuncionario": $("#BuscaFuncionario").val() },
                success: function (data) {

                    $("#ListaPermissoes").append(data);

                }
            });

    }

</script>




<div class="card">

    <header class="card-header">
        <p class="card-header-title">
            Permissões de Funcionários
        </p>
    </header>
    <div class="card-content">
        <div class="card-content">
            <div class="content">

                <div class="card-content">
                    <div class="content">

                        <div class="field has-addons">
                            <div class="control has-icons-left is-expanded">
                                <input id="BuscaFuncionario" class="input is-fullwidth" type="text" placeholder="Busque um funcionário.">
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                            <div class="control">
                                <a href="Javascript:Buscar();void(0);" class="button is-success">
                                    Procurar
                                </a>
                            </div>
                        </div>
                        <ul id="ListaPermissoes"></ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="EdicaoPermissoes" hidden>
        <br />
    </div>
</div>
<br>




    <div id="ModalPermissoesFuncionario" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Permissões Funcionários</p>
            </header>
            <section class="modal-card-body">
                <body>
                
                
                   
                <select multiple="multiple" id="my-select" name="my-select[]">
                    @for (var i = 0; i < Convert.ToInt32(TempData["TotalResultadoPermissoes"]); i++)
                    {
                        <option value='elem_1'>@Model.PermissaoFuncionario[i].Text </option>
                        
                    } );
                </select>


                </body>
                
                <div class="ms-selection">
                    <ul tabindex="-1" class="ms-list">

                    </ul>
                </div>
            </section>

            <footer class="modal-card-foot">
                <a class="button" href="javascript:$('#ModalPermissoesFuncionario').removeClass();$('#ModalPermissoesFuncionario').addClass('modal');void(0);">Cancelar</a>
                <div class="control">
                    <button type="submit" id="SalvaFuncao" disabled class="button is-success">Salvar Funcionário</button>
                </div>
            </footer>

        </div>
    </div>

